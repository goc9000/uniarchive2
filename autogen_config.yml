enums:
  graphics/ANSIColor:
    - black = 0
    - red = 1
    - green = 2
    - yellow = 3
    - blue = 4
    - magenta = 5
    - cyan = 6
    - white = 7
    - extended = 8

  intermediate_format/errors:
    SendMessageFailReason:
      - undetermined = 0
      - message too large
      - recipient offline
      - connection error
    StartCallFailReason:
      - undetermined = 0
      - no answer
      - peer busy
      - blocked by privacy settings as PRIVACY_BLOCKED
      - call rejected
    CurrentCallFailReason:
      - undetermined = 0
      - connection dropped
    OfferWebcamFailReason:
      - undetermined = 0
      - unsupported
    PingFailReason:
      - undetermined = 0
      - blocked or unsupported

  protocols:
    ArchiveFormat:
      - (invalid) = 0
      - Adium
      - Digsby
      - Facebook (DYI archive) as FACEBOOK_DYI
      - MSN Messenger (XML format) as MSN_MESSENGER_XML
      - Pidgin (HTML format) as PIDGIN_HTML
      - Pidgin (TXT format) as PIDGIN_TXT
      - Skype
      - WhatsApp (Email format) as WHATSAPP_EMAIL
      - Yahoo Messenger (DAT format) as YAHOO_MESSENGER_DAT

    IMProtocol:
      - (invalid) = 0
      - Digsby
      - Facebook
      - Jabber
      - MSN
      - Skype
      - WhatsApp
      - Yahoo

    IMStatus:
      - (invalid) = 0
      - available
      - away
      - idle
      - offline

    skype/SkypeChatRole:
      - internal comment: "As described on: https://support.skype.com/en/faq/FA10042/what-are-chat-commands-and-roles"
      - (invalid) = 0
      - creator        // can promote others to master
      - master         // can promote others to helper (at most)
      - helper         // slightly privileged user (e.g. exempt from USERS_ARE_LISTENERS option)
      - regular user
      - listener       // cannot post

base raw event:
  - ApparentTime timestamp
  - uint indexInConversation as index
  - ..
  - ?QByteArray skypeGUID

raw events:
  (calls):
    OfferCall:
      - ApparentSubject caller
    AnswerCall:
      - ApparentSubject receiver
      - ?ApparentSubject caller
    OfferWebcam:
      - failable: OfferWebcamFailReason
      - ApparentSubject sender
    StartCall:
      - failable: StartCallFailReason
      - ApparentSubject initiator
      - ApparentSubject([]) peers
      - ..
      - ?uint durationSeconds
      - ..
      - ?QString skypeCallGUID
      - ?QString syntheticCallGUID
      - ?uint64_t correspondingSkypeCallID
    EndCall:
      - ?ApparentSubject ender
      - ..
      - ?CurrentCallFailReason reasonCallFailed
      - ..
      - ?QString skypeCallGUID
      - ?QString syntheticCallGUID
      - ?uint64_t correspondingSkypeCallID
  (conference):
    JoinConference:
      - ApparentSubject subject
      - ?RawMessageContent message
    RejoinConference:
      - ApparentSubject subject
      - ApparentSubject[] peers
    DeclineConference:
      - ApparentSubject subject
      - ?RawMessageContent message
    LeaveConference:
      - ApparentSubject subject
      - ?RawMessageContent message
    CreateConference:
      - ApparentSubject creator
      - (?)QString conferenceName
    AddToConference:
      - (?)ApparentSubject adder
      - ApparentSubject([]) addees
      - ..
      - ?bool asModerator
    RemoveFromConference:
      - (?)ApparentSubject remover
      - ApparentSubject removee
    ChangeConferencePicture:
      - ApparentSubject subject
    ChangeTopic:
      - ApparentSubject subject
      - RawMessageContent topic
    SetSkypeChatRole:
      - (?)ApparentSubject setter
      - ApparentSubject target
      - SkypeChatRole role
  (conversation):
    StartConversation:
      - (?)ApparentSubject initiator
      - (?)ApparentSubject peer
    JoinConversation:
      - ApparentSubject subject
    LeaveConversation:
      - ApparentSubject subject
  (file_transfer):
    OfferFile:
      - ApparentSubject sender
      - ?ApparentSubject recipient
      - RawTransferredFile file
    OfferFileGroup:
      - ApparentSubject sender
      - ?ApparentSubject recipient
      - uint numFiles
    ReceiveFile:
      - ApparentSubject receiver
      - ?ApparentSubject sender
      - RawTransferredFile file
    StartFileTransfer:
      - RawTransferredFile file
      - ?ApparentSubject sender
    CancelFileTransfer:
      - (?)RawTransferredFile file
      - ?ApparentSubject actor
    TransferFiles:
      - ApparentSubject sender
      - ?ApparentSubject recipient
      - RawTransferredFile([]) files
  (friending):
    ContactDelete:
      - ApparentSubject deleter
      - ApparentSubject deletee
    ContactRequestAccept:
      - ApparentSubject acceptor
      - ApparentSubject acceptee
    ContactRequest:
      - ApparentSubject sender
      - ApparentSubject receiver
      - RawMessageContent message
  (status):
    Connected:
      - ApparentSubject subject
    Disconnected:
      - ApparentSubject subject
    StatusChange:
      - ApparentSubject subject
      - IMStatus status
      - ?RawMessageContent message
  (system):
    EEEncryptionAnnouncement:
    LoggingStarted:
    LoggingStopped:
    WindowClosed:
    WindowOpened:
  
  ChangeScreenName:
    - ApparentSubject from
    - ApparentSubject to
  CorruptedMessage:
    - QByteArray rawData
  EditedPreviousMessage:
    - ApparentSubject subject
  Message:
    - failable: SendMessageFailReason
    - ApparentSubject sender
    - ?ApparentSubject receiver
    - RawMessageContent content
    - ..
    - bool isOffline = false
    - field: bool isAction = false
      doc: |
        Action messages represent a supposed action or status of the subject, as opposed to the verbatim content of an
        utterance. Example: <subject> *runs and hides*
    - ..
    - bool isEdited = false
    - ?ApparentSubject editedBy
    - ?ApparentTime timeEdited
  Ping:
    - failable: PingFailReason
    - ApparentSubject pinger
    - ?ApparentSubject pingee
  SendContacts:
    - ApparentSubject sender
    - ApparentSubject[] contacts
  Uninterpreted:
    - QByteArray rawData
