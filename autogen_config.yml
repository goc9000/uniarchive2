enums:
  graphics/ANSIColor:
    - black = 0
    - red = 1
    - green = 2
    - yellow = 3
    - blue = 4
    - magenta = 5
    - cyan = 6
    - white = 7
    - extended = 8

  intermediate_format/errors:
    SendMessageFailReason:
      - undetermined = 0
      - message too large
      - recipient offline
      - connection error
    StartCallFailReason:
      - undetermined = 0
      - no answer
      - peer busy
      - blocked by privacy settings as PRIVACY_BLOCKED
      - call rejected
    CurrentCallFailReason:
      - undetermined = 0
      - connection dropped
    OfferWebcamFailReason:
      - undetermined = 0
      - unsupported
    PingFailReason:
      - undetermined = 0
      - blocked or unsupported

  protocols:
    ArchiveFormat:
      - (invalid) = 0
      - Adium
      - Digsby
      - Facebook (DYI archive) as FACEBOOK_DYI
      - MSN Messenger (XML format) as MSN_MESSENGER_XML
      - Pidgin (HTML format) as PIDGIN_HTML
      - Pidgin (TXT format) as PIDGIN_TXT
      - Skype
      - WhatsApp (Email format) as WHATSAPP_EMAIL
      - Yahoo Messenger (DAT format) as YAHOO_MESSENGER_DAT

    IMProtocol:
      - (invalid) = 0
      - Digsby
      - Facebook
      - Jabber
      - MSN
      - Skype
      - WhatsApp
      - Yahoo

    IMStatus:
      - (invalid) = 0
      - available
      - away
      - idle
      - offline

    skype/SkypeChatRole:
      - internal comment: "As described on: https://support.skype.com/en/faq/FA10042/what-are-chat-commands-and-roles"
      - (invalid) = 0
      - creator        // can promote others to master
      - master         // can promote others to helper (at most)
      - helper         // slightly privileged user (e.g. exempt from USERS_ARE_LISTENERS option)
      - regular user
      - listener       // cannot post

base raw event:
  - time timestamp
  - uint indexInConversation as index
  - ?bytes skypeGUID

raw events:
  (calls):
    OfferCall:
      - subject caller
    AnswerCall:
      - subject receiver
      - ?subject caller
    OfferWebcam:
      - failable: OfferWebcamFailReason
      - subject sender
    StartCall:
      - failable: StartCallFailReason
      - subject initiator
      - subject[] peers
      - ..
      - ?uint durationSeconds
      - ..
      - ?string skypeCallGUID
      - ?string syntheticCallGUID
      - ?uint64_t correspondingSkypeCallID
    EndCall:
      - subject ender
      - ..
      - ?CurrentCallFailReason reasonCallFailed
      - ..
      - ?string skypeCallGUID
      - ?string syntheticCallGUID
      - ?uint64_t correspondingSkypeCallID
  (conference):
    JoinConference:
      - subject subject
      - ?content message
    RejoinConference:
      - subject subject
      - subject[] peers
    DeclineConference:
      - subject subject
      - ?content message
    LeaveConference:
      - subject subject
      - ?content message
    CreateConference:
      - subject creator
      - string conferenceName
    AddToConference:
      - ?subject adder
      - subject[] addees
      - ?bool asModerator
    RemoveFromConference:
      - ?subject remover
      - subject removee
    ChangeConferencePicture:
      - subject subject
    ChangeTopic:
      - subject subject
      - content topic
    SetSkypeChatRole:
      - ?subject setter
      - subject target
      - SkypeChatRole role
  (conversation):
    StartConversation:
      - ?subject initiator
      - ?subject peer
    JoinConversation:
      - subject subject
    LeaveConversation:
      - subject subject
  (file_transfer):
    OfferFile:
      - subject sender
      - ?subject recipient
      - file file
    OfferFileGroup:
      - subject sender
      - ?subject recipient
      - uint numFiles
    ReceiveFile:
      - subject receiver
      - ?subject sender
      - file file
    StartFileTransfer:
      - file file
      - ?subject sender
    CancelFileTransfer:
      - ?file file
      - ?subject actor
    TransferFiles:
      - subject sender
      - ?subject recipient
      - file[] files
  (friending):
    ContactDelete:
      - subject deleter
      - subject deletee
    ContactRequestAccept:
      - subject acceptor
      - subject acceptee
    ContactRequest:
      - subject sender
      - subject receiver
      - content message
  (status):
    Connected:
      - subject subject
    Disconnected:
      - subject subject
    StatusChange:
      - subject subject
      - status status
      - ?content message
  (system):
    EEEncryptionAnnouncement:
    LoggingStarted:
    LoggingStopped:
    WindowClosed:
    WindowOpened:
  
  ChangeScreenName:
    - subject from
    - subject to
  CorruptedMessage:
    - bytes rawData
  EditedPreviousMessage:
    - subject subject
  Message:
    - failable: SendMessageFailReason
    - subject sender
    - ?subject receiver
    - content content
    - ..
    - bool isOffline = false
    - field: bool isAction = false
      comment: |
        Action messages represent a supposed action or status of the subject, as opposed to the verbatim content of an
        utterance. Example: <subject> *runs and hides*
    - ..
    - bool isEdited = false
    - ?subject editedBy
    - ?time timeEdited
  Ping:
    - subject pinger
    - ?subject pingee
  SendContacts:
    - subject sender
    - subject[] contacts
  Uninterpreted:
    - bytes rawData
